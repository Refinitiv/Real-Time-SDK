<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_51) on Tue Nov 29 11:48:02 CST 2016 -->
<title>Consumer (UPAJ API Examples)</title>
<meta name="date" content="2016-11-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Consumer (UPAJ API Examples)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Consumer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/thomsonreuters/upa/examples/consumer/DictionaryHandler.html" title="class in com.thomsonreuters.upa.examples.consumer"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/thomsonreuters/upa/examples/consumer/Consumer.html" target="_top">Frames</a></li>
<li><a href="Consumer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.thomsonreuters.upa.examples.consumer</div>
<h2 title="Class Consumer" class="title">Class Consumer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.thomsonreuters.upa.examples.consumer.Consumer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/thomsonreuters/upa/examples/common/ResponseCallback.html" title="interface in com.thomsonreuters.upa.examples.common">ResponseCallback</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Consumer</span>
extends java.lang.Object
implements <a href="../../../../../com/thomsonreuters/upa/examples/common/ResponseCallback.html" title="interface in com.thomsonreuters.upa.examples.common">ResponseCallback</a></pre>
<div class="block"><p>
 This is a main class to run UPA Consumer application. The purpose of this
 application is to consume or post content between an OMM consumer and OMM
 provider. It is a single-threaded client application.
 </p>
 <H2>Summary</H2>
 <p>
 This class is responsible for the following:
 <ul>
 <li>Initialize and set command line options.
 <li>Create a <a href="../../../../../com/thomsonreuters/upa/examples/common/ChannelSession.html" title="class in com.thomsonreuters.upa.examples.common"><code>UPA Channel Session</code></a>.
 <li>Create Handler instances to handle Login, Directory, Dictionary,
 MarketPrice, MarketByOrder, MarketByPrice, and YieldCurve requests and responses.
 <li>Create handlers for posting and symbol list request, responses.
 <li>If the dictionary is found in the directory of execution, then it is
 loaded directly from the file. However, the default configuration for this
 application is to request the dictionary from the provider.
 <li>Connect to the provider, login, request source directory, request
 dictionary if not loaded from file, send item requests for specified domain
 types, and process responses (refresh, status, update, close).
 <li>Cleanup.
 </ul>
 <p>
 This class is also a call back for all events from provider. It dispatches
 events to domain specific handlers.
 <p>
 This application is intended as a basic usage example. Some of the design
 choices were made to favor simplicity and readability over performance. It is
 not intended to be used for measuring performance. This application uses
 Value Add and shows how using Value Add simplifies the writing of UPA
 applications. Because Value Add is a layer on top of UPA, you may see a
 slight decrease in performance compared to writing applications directly to
 the UPA interfaces.
 <p>
 <H2>Setup Environment</H2>
 <p>
 The RDMFieldDictionary and enumtype.def files could be located in the
 directory of execution or this application will request dictionary from
 provider.
 <p>
 <H2>Running the application:</H2>
 <p>
 Change directory to the <i>Applications/Examples</i> directory and run <i>ant</i> to
 build.
 <p>
 java -cp ./bin;../../Libs/upaValueAdd.jar;../../Libs/upa.jar
 com.thomsonreuters.upa.examples.consumer.Consumer [-h srvrHostName] [-p
 srvrPortNo] [-uname loginUserName] [-s serviceName] [-mp|-mpps
 marketPriceItemName] [-mbo|-mbops marketByOrderItemName] [-mbp|-mbpps
 marketByPriceItemName] [-yc|-ycps yieldCurveItemName] [-view viewFlag]
 [-post postFlag] [-offpost offPostFlag] [-publisherInfo id, ipaddress] [-snapshot snapShotFlag]
 [-sl symbolListName] [-x] [-connectionType connectionType]
 [-runtime runTime]  [-proxy true or false] [-ph proxy server hostName]
 [-pp proxy port number] [-plogin proxy userName] [-ppasswd proxy password]
 [-pdomain proxy domain] [-krbfile proxyKRBFile] [-keyfile keystoreFile] [-keypasswd keystore password]
   
 <p>
 <ul>
 <li>-h Server host name. Default is <i>localhost</i>.
 <li>-p Server port number. Default is <i>14002</i>.
 <li>-uname Login user name. Default is system user name.
 <li>-s Service name. Default is <i>DIRECT_FEED</i>.
 <li>-mp Market Price domain item name. Default is <i>TRI.N</i>. The user can
 specify multiple -mp instances, where each occurrence is associated with a
 single item. For example, specifying -mp TRI -mp GOOG will provide content
 for two MarketPrice items.
 <li>-mpps Market Price domain item name on private stream. No default. The
 user can specify multiple -mpps instances, where each occurrence is
 associated with a single item.
 <li>-mbo Market By Order domain item name. No default. The user can specify
 multiple -mbo instances, where each occurrence is associated with a single
 item.
 <li>-mbops Market By Order domain item name on private stream. No default.
 The user can specify multiple -mbops instances, where each occurrence is
 associated with a single item.
 <li>-mbp market By Price domain item name. No default. The user can specify
 multiple -mbp instances, where each occurrence is associated with a single
 item.
 <li>-mbpps market By Price domain item name on private stream. No default.
 The user can specify multiple -mbpps instances, where each occurrence is
 associated with a single item.
 <li>-yc Yield Curve domain item name. No default. The user can specify
 multiple -yc instances, where each occurrence is associated with a
 single item.
 <li>-ycps Yield Curve domain item name on private stream. No default. The
 user can specify multiple -ycps instances, where each occurrence is
 associated with a single item.
 <li>-view viewFlag. Default is false. If true, each request will use a basic
 dynamic view.
 <li>-post postFlag. Default is false. If true, the application will attempt
 to send post messages on the first requested Market Price item (i.e.,
 on-stream).
 <li>-offpost offPostFlag. Default is false. If true, the application will
 attempt to send post messages on the login stream (i.e., off-stream).
 <li>-publisherInfo publisherInfoFlag. Default is false. If true, the application will
 attempt to send post messages with publisher ID and publisher address.
 <li>-snapshot snapShotFlag. If true, each request will be non-streaming (i.e.
 snapshot). Default is false (i.e. streaming requests).
 <li>-sl symbolListName. symbolListName is optional without a default. If -sl
 is specified without a symbolListName the itemList from the source directory
 response will be used.
 <li>-x Provides XML tracing of messages.
 <li>-connectionType. Connection Type used (Socket, http, or encrypted).
 Default is <i>Socket</i>.
 <li>-runtime run time. Default is 600 seconds. Controls the time the
 application will run before exiting, in seconds.
 <li>-proxy proxyFlag. if provided, the application will attempt
 to make an http or encrypted connection through a proxy server (if
 connectionType is set to http or encrypted).
 <li>-ph Proxy host name.
 <li>-pp Proxy port number.
 <li>-plogin User name on proxy server.
 <li>-ppasswd Password on proxy server. 
 <li>-pdomain Proxy Domain.
 <li>-krbfile Proxy KRB file. 
 <li>-keyfile keystore file for encryption.
 <li>-keypasswd keystore password for encryption.
 
 </ul></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/thomsonreuters/upa/examples/consumer/DictionaryHandler.html" title="class in com.thomsonreuters.upa.examples.consumer"><code>DictionaryHandler</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/common/DirectoryHandler.html" title="class in com.thomsonreuters.upa.examples.common"><code>DirectoryHandler</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/common/LoginHandler.html" title="class in com.thomsonreuters.upa.examples.common"><code>LoginHandler</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/consumer/PostHandler.html" title="class in com.thomsonreuters.upa.examples.consumer"><code>PostHandler</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/consumer/MarketPriceHandler.html" title="class in com.thomsonreuters.upa.examples.consumer"><code>MarketPriceHandler</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/consumer/MarketByOrderHandler.html" title="class in com.thomsonreuters.upa.examples.consumer"><code>MarketByOrderHandler</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/consumer/MarketByPriceHandler.html" title="class in com.thomsonreuters.upa.examples.consumer"><code>MarketByPriceHandler</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/consumer/SymbolListHandler.html" title="class in com.thomsonreuters.upa.examples.consumer"><code>SymbolListHandler</code></a>, 
<a href="../../../../../com/thomsonreuters/upa/examples/consumer/YieldCurveHandler.html" title="class in com.thomsonreuters.upa.examples.consumer"><code>YieldCurveHandler</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/consumer/Consumer.html#Consumer--">Consumer</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/consumer/Consumer.html#init-java.lang.String:A-">init</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">Initializes consumer application.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/consumer/Consumer.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/consumer/Consumer.html#processResponse-com.thomsonreuters.upa.examples.common.ChannelSession-com.thomsonreuters.upa.transport.TransportBuffer-">processResponse</a></span>(<a href="../../../../../com/thomsonreuters/upa/examples/common/ChannelSession.html" title="class in com.thomsonreuters.upa.examples.common">ChannelSession</a>&nbsp;chnl,
               com.thomsonreuters.upa.transport.TransportBuffer&nbsp;buffer)</code>
<div class="block">Call back method to process responses from channel.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/consumer/Consumer.html#run--">run</a></span>()</code>
<div class="block">Main loop that handles channel connection, login requests, reading and
 processing responses from channel.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/thomsonreuters/upa/examples/consumer/Consumer.html#uninitialize--">uninitialize</a></span>()</code>
<div class="block">Closes all streams for the consumer.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Consumer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Consumer</h4>
<pre>public&nbsp;Consumer()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Main loop that handles channel connection, login requests, reading and
 processing responses from channel.</div>
</li>
</ul>
<a name="init-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init(java.lang.String[]&nbsp;args)</pre>
<div class="block">Initializes consumer application.
 
 It is responsible for: Initializing command line options used by the
 application. Parsing command line arguments. Initializing all domain
 handlers. Loading dictionaries from file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - </dd>
</dl>
</li>
</ul>
<a name="processResponse-com.thomsonreuters.upa.examples.common.ChannelSession-com.thomsonreuters.upa.transport.TransportBuffer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processResponse</h4>
<pre>public&nbsp;void&nbsp;processResponse(<a href="../../../../../com/thomsonreuters/upa/examples/common/ChannelSession.html" title="class in com.thomsonreuters.upa.examples.common">ChannelSession</a>&nbsp;chnl,
                            com.thomsonreuters.upa.transport.TransportBuffer&nbsp;buffer)</pre>
<div class="block">Call back method to process responses from channel. Processing responses
 consists of performing a high level decode of the message and then
 calling the applicable specific method for further processing. chnl - The
 channel of the response buffer - The message buffer containing the
 response.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/thomsonreuters/upa/examples/common/ResponseCallback.html#processResponse-com.thomsonreuters.upa.examples.common.ChannelSession-com.thomsonreuters.upa.transport.TransportBuffer-">processResponse</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/thomsonreuters/upa/examples/common/ResponseCallback.html" title="interface in com.thomsonreuters.upa.examples.common">ResponseCallback</a></code></dd>
</dl>
</li>
</ul>
<a name="uninitialize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>uninitialize</h4>
<pre>public&nbsp;void&nbsp;uninitialize()</pre>
<div class="block">Closes all streams for the consumer.</div>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)
                 throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Consumer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/thomsonreuters/upa/examples/consumer/DictionaryHandler.html" title="class in com.thomsonreuters.upa.examples.consumer"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/thomsonreuters/upa/examples/consumer/Consumer.html" target="_top">Frames</a></li>
<li><a href="Consumer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
<i>Copyright &#169; 2016  Thomson Reuters. All Rights Reserved.</i></small></p>
</body>
</html>
