<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>UltraPerformanceAPI-CEditionReferenceManual: RsslRefreshMsg Reference Group</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="10">
 <tbody>
 <tr style="height: 70px;">
  
  <td bgcolor="#FFFFFF" width="100%" valign="middle">
	<table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr>
        <td>&nbsp; </td>
		<td valign="top" width="100%" align="left"><font face="arial" size="3" color="#666666"><b>Transport API C Edition</b></font></td>
      </tr>
    </table>
  </td>

  <td rowspan="2"><a href="http://www.thomsonreuters.com/" target="display"><img alt="Logo" src="../../portal/banner_logo.jpg"/></td>

 </tr>
 </tbody>
</table>

<table cellSpacing="0" cellPadding="0" width="100%" border="0">
  <tr>
    <td bgColor="#cccccc"><img height="3" src="../../portal/invis.gif" width="1"></td>
  </tr>
</table>

</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>UPA&#160;Home</span></a></li>
      <li><a href="modules.html"><span>Contents</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">RsslRefreshMsg Reference Group</div>  </div>
<div class="ingroups"><a class="el" href="group__RSSLWFMessages.html">Transport API Message Structures</a></div></div><!--header-->
<div class="contents">

<p>The Refresh Message is used to provide an initial or subsequent data synchronization point, including quality of service and payload content. When used to respond to an <a class="el" href="structRsslRequestMsg.html" title="The RsslRequestMsg is used to provide an initial or subsequent data synchronization point...">RsslRequestMsg</a>, a solicited <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a> can be used. If pushing out a content change to downstream applications, an unsolicited <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a> can be used. When the stream is instantiated because of an <a class="el" href="structRsslRequestMsg.html" title="The RsslRequestMsg is used to provide an initial or subsequent data synchronization point...">RsslRequestMsg</a>, the streamId from the request should be used; when a provider instantiates the stream with an <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a> (e.g. Non-Interactive provider), a negative streamId should be used.  
<a href="#details">More...</a></p>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>To use <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a> functionality include  "rtr/rsslRefreshMsg.h"</p>
<p>The Refresh Message is used to provide an initial or subsequent data synchronization point. When used to respond to an <a class="el" href="structRsslRequestMsg.html" title="The RsslRequestMsg is used to provide an initial or subsequent data synchronization point...">RsslRequestMsg</a>, a solicited <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a> can be used. If pushing out a content change to downstream applications, an unsolicited <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a> can be used. When the stream is instantiated because of an <a class="el" href="structRsslRequestMsg.html" title="The RsslRequestMsg is used to provide an initial or subsequent data synchronization point...">RsslRequestMsg</a>, the streamId from the request should be used; when a provider instantiates the stream with an <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a> (e.g. Non-Interactive provider), a negative streamId should be used. It provides an image of all existing data related to that item, and any additional information about such as the item's group and quality of service. In addition to providing information, this action can be used to establish a standard or private stream.</p>
<dl class="section note"><dt>Note:</dt><dd>When responding to a batch request, each item in the batch receives its own <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a>.</dd></dl>
<p>See <a class="el" href="group__MsgEncoders.html">Transport API Message Encoding Reference Group</a> for general Transport API Message Encoding functionality. <br/>
 See <a class="el" href="group__MsgDecoders.html">Transport API Message Decoding Reference Group</a> for general Transport API Message Decoding functionality. <br/>
 See <a class="el" href="group__MsgUtils.html">General Message Utility and Helper Functions</a> for general Transport API Message utility and helper functions. <br/>
 <br/>
<br/>
</p>
<h2><a class="anchor" id="RefreshMsgUseExample"></a>
RsslRefreshMsg Creation Examples</h2>
<p>The following code example demonstrates stack creation and initialization of an <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a>. This also demonstrates the use of the clear function to reuse the structures. This is typical usage prior to encoding an <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a>. When decoding, the <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a> will be populated via the decode process so there is no need to previously clear. </p>
<div class="fragment"><pre class="fragment">    <span class="comment">// Create RsslRefreshMsg and initialize</span>
    <a class="code" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a> refreshMsg;
  
    <span class="comment">// Use the clear function since it sets the msgClass and tend to perform better</span>
    <a class="code" href="group__RefreshMsgStruct.html#gacc60b2288f6d05773340a68c5cb0dbbd" title="Clears RsslRefreshMsg.">rsslClearRefreshMsg</a>(&amp;refreshMsg);

    <span class="comment">// Populate RsslRefreshMsg with relevant information</span>
    <span class="comment">// Set flags to indicate complete, solicited refresh with qos and key.  </span>
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a1701ad7ba9d1266c9b15d0fb7e1a349b" title="Flag values used to indicate optional member presence and/or stream behavior. The available options a...">flags</a> = <a class="code" href="group__RefreshMsgStruct.html#gga32172fbfe146c09266fbd4c277e4b4c7abbf4034dc462c3f763bf99044607951b">RSSL_RFMF_SOLICITED</a> | <a class="code" href="group__RefreshMsgStruct.html#gga32172fbfe146c09266fbd4c277e4b4c7a278b0a98c5551698b4eff0062c0c0222">RSSL_RFMF_REFRESH_COMPLETE</a> | <a class="code" href="group__RefreshMsgStruct.html#gga32172fbfe146c09266fbd4c277e4b4c7a30f499e4b1d5d95ff19ec40e15e44df4">RSSL_RFMF_HAS_MSG_KEY</a> | <a class="code" href="group__RefreshMsgStruct.html#gga32172fbfe146c09266fbd4c277e4b4c7a819dc4e852e51b1207a1004a539d009e">RSSL_RFMF_HAS_QOS</a> | <a class="code" href="group__RefreshMsgStruct.html#gga32172fbfe146c09266fbd4c277e4b4c7a2335082dabea185f29c39ea58c1f1803">RSSL_RFMF_CLEAR_CACHE</a>;

    <span class="comment">// Populate this with standard header information</span>
    <span class="comment">// Since this is solicited, provider should use the streamId from the request being responded to</span>
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a93d328f761a38ef894c6f00196f0518e" title="Common message header members (streamId, domainType, msgKey, etc.). The msgKey is optional and typica...">msgBase</a>.<a class="code" href="structRsslMsgBase.html#a8db7dde74914351340d90b6735a55b5a" title="Unique signed-integer identifier associated with all messages flowing within a stream. Positive values indicate a consumer instantiated stream, negative values indicate a provider instantiated stream often associated with non-interactive providers.">streamId</a> = 10; 
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a93d328f761a38ef894c6f00196f0518e" title="Common message header members (streamId, domainType, msgKey, etc.). The msgKey is optional and typica...">msgBase</a>.<a class="code" href="structRsslMsgBase.html#ac57985634c2a86fe334088efbfb2a3c8" title="Domain Type of this message, corresponds to a domain model definition Values less than 128 are Thomso...">domainType</a> = <a class="code" href="group__RSSLWFDomain.html#ggaaad95808886774a2ecdfd5a18519f193af75c3a137564b3e599beed9b1f4ee528">RSSL_DMT_MARKET_PRICE</a>;
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a93d328f761a38ef894c6f00196f0518e" title="Common message header members (streamId, domainType, msgKey, etc.). The msgKey is optional and typica...">msgBase</a>.<a class="code" href="structRsslMsgBase.html#a8f3711db8457b3e3c4bfe6b124e993da" title="Container type that is held in the encDataBody.">containerType</a> = <a class="code" href="group__RSSLTypeEnums.html#gga8df9a55c9711b3eccf6e9cb72a62b623a1c162bd08395f4157a0f97accf10dafc">RSSL_DT_FIELD_LIST</a>;

    <span class="comment">// Populate message key information, typically matches info from request</span>
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a93d328f761a38ef894c6f00196f0518e" title="Common message header members (streamId, domainType, msgKey, etc.). The msgKey is optional and typica...">msgBase</a>.<a class="code" href="structRsslMsgBase.html#a900f9d2b712e1e67cd5803bc6a3e7549" title="Key providing unique identifier information for an item stream. The msgKey, in conjunction with quali...">msgKey</a>.<a class="code" href="structRsslMsgKey.html#aa3b48ccd85d0975a805457bf675876d3" title="Flag values used to indicate optional member presence. The available options are defined by values pr...">flags</a> = <a class="code" href="group__MsgKey.html#ggac1f9208d8622a17e0442bf10eea416beac40ae064264f9bbfece237bf9816c0f9">RSSL_MKF_HAS_NAME</a> | <a class="code" href="group__MsgKey.html#ggac1f9208d8622a17e0442bf10eea416bea91327a737843f14f74c83531a8be56da">RSSL_MKF_HAS_NAME_TYPE</a> | <a class="code" href="group__MsgKey.html#ggac1f9208d8622a17e0442bf10eea416bea185a570bbb9ed2fbf6a7a6b8bf27bc38">RSSL_MKF_HAS_SERVICE_ID</a>;
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a93d328f761a38ef894c6f00196f0518e" title="Common message header members (streamId, domainType, msgKey, etc.). The msgKey is optional and typica...">msgBase</a>.<a class="code" href="structRsslMsgBase.html#a900f9d2b712e1e67cd5803bc6a3e7549" title="Key providing unique identifier information for an item stream. The msgKey, in conjunction with quali...">msgKey</a>.<a class="code" href="structRsslMsgKey.html#a30177ffa40b964981981fc86b0fc81df" title="The serviceId is a two-byte unsigned integer used to identify a specific service.">serviceId</a> = 1;
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a93d328f761a38ef894c6f00196f0518e" title="Common message header members (streamId, domainType, msgKey, etc.). The msgKey is optional and typica...">msgBase</a>.<a class="code" href="structRsslMsgBase.html#a900f9d2b712e1e67cd5803bc6a3e7549" title="Key providing unique identifier information for an item stream. The msgKey, in conjunction with quali...">msgKey</a>.<a class="code" href="structRsslMsgKey.html#ac5f90278a6c638b34b4cd3a7a8419533" title="Name Type. This indicates the type of the name member, examples are ‘User Name’ or ‘RIC’ (Reuters Instrum...">nameType</a> = <a class="code" href="group__DomainCommon.html#gga64f961903ad7b00e0cfbeab1f947f7e8a7445745e809e5a86d01860d32f7121ab">RDM_INSTRUMENT_NAME_TYPE_RIC</a>;
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a93d328f761a38ef894c6f00196f0518e" title="Common message header members (streamId, domainType, msgKey, etc.). The msgKey is optional and typica...">msgBase</a>.<a class="code" href="structRsslMsgBase.html#a900f9d2b712e1e67cd5803bc6a3e7549" title="Key providing unique identifier information for an item stream. The msgKey, in conjunction with quali...">msgKey</a>.<a class="code" href="structRsslMsgKey.html#a4dd3b68edff4ce40d3650c354c1febc8" title="Name associated with the contents of the item stream.">name</a>.<a class="code" href="structRwfBuffer.html#a36dca6594e33f338ba86fb8808fd8ce7">data</a> = <span class="stringliteral">&quot;TRI&quot;</span>;
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a93d328f761a38ef894c6f00196f0518e" title="Common message header members (streamId, domainType, msgKey, etc.). The msgKey is optional and typica...">msgBase</a>.<a class="code" href="structRsslMsgBase.html#a900f9d2b712e1e67cd5803bc6a3e7549" title="Key providing unique identifier information for an item stream. The msgKey, in conjunction with quali...">msgKey</a>.<a class="code" href="structRsslMsgKey.html#a4dd3b68edff4ce40d3650c354c1febc8" title="Name associated with the contents of the item stream.">name</a>.<a class="code" href="structRwfBuffer.html#a32b3434ef885f1a2af98de3af1a3df8d">length</a> = 3;

    <span class="comment">// Populate quality of service, indicates the QoS being provided for this stream</span>
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a29c5320237495b5fe3719ab9ca834eef" title="Quality of Service information for the current item stream. See RsslQos for more details. Presence is indicated by RsslRefreshFlags::RSSL_RFMF_HAS_QOS.">qos</a>.<a class="code" href="structRsslQos.html#aefb94f9ee07521521aab93233ac8887b" title="Timeliness information, indicating data age (e.g. real-time, delayed). Should be populated from RsslQ...">timeliness</a> = <a class="code" href="group__RsslQosType.html#gga13b1f51cec1a864ba377c4679e093a98a6708f4c034733ee0c8030d4dffa0b8d0">RSSL_QOS_TIME_REALTIME</a>;
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a29c5320237495b5fe3719ab9ca834eef" title="Quality of Service information for the current item stream. See RsslQos for more details. Presence is indicated by RsslRefreshFlags::RSSL_RFMF_HAS_QOS.">qos</a>.<a class="code" href="structRsslQos.html#abebb117c820d4344afb69217d0f26f58" title="Rate information, indicating data period of change (e.g. tick-by-tick, conflated). Should be populated from RsslQosRates enum.">rate</a> = <a class="code" href="group__RsslQosType.html#ggad970ff1c54ae50708d3ed56876715488af37dfaebd3307333422328e8c316d141">RSSL_QOS_RATE_TICK_BY_TICK</a>;

    <span class="comment">// Use default group Id in this example</span>
    <span class="comment">// Populate state</span>
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a4d59b764fb69e5f5833c6c737c770fdf" title="Contains state information for the current item stream. See RsslState for more details.">state</a>.<a class="code" href="structRsslState.html#a0f6347545339efae1791629c320e286c" title="An enumerated value providing information about the state of the stream, populated from RsslStreamSta...">streamState</a> = <a class="code" href="group__RsslStateType.html#gga9831e61e9ee1d1f4de7b4e31541a4e8aab3c23d264e2b6f38fbc096b27dbd2d47">RSSL_STREAM_OPEN</a>;
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a4d59b764fb69e5f5833c6c737c770fdf" title="Contains state information for the current item stream. See RsslState for more details.">state</a>.<a class="code" href="structRsslState.html#a39eb701112ad5e751fd1b84222fdc540" title="An enumerated value providing information about the state of data, populated from RsslDataStates...">dataState</a> = <a class="code" href="group__RsslStateType.html#gga7e0e9078a361a7d77e0a74f778b2dcbda234ea29652a0b51a2330446896afec06">RSSL_DATA_OK</a>;
    refreshMsg.<a class="code" href="structRsslRefreshMsg.html#a4d59b764fb69e5f5833c6c737c770fdf" title="Contains state information for the current item stream. See RsslState for more details.">state</a>.<a class="code" href="structRsslState.html#a80329bacce2818dfd40f2b7183765133" title="An enumerated code providing additional state information, populated from RsslStateCodes.">code</a> = RSSL_DATA_NONE;

    <span class="comment">// If content is pre-encoded, can set on refreshMsg.msgBase.encDataBody buffer and call rsslEncodeMsg().</span>
    <span class="comment">// If content is not pre-encoded, user can call rsslEncodeMsgInit(), encode content, and rsslEncodeMsgComplete().</span>
</pre></div><h2><a class="anchor" id="TheRefreshMsgStruct"></a>
RsslRefreshMsg Structure, Initializers and Helpers</h2>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__RefreshMsgStruct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RefreshMsgStruct.html">RsslRefreshMsg Structure, Initializers, and Flag values</a></td></tr>
<tr class="memdesc:group__RefreshMsgStruct"><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Detailed information about the <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a> Structure, Initializers, and flag values. </p>
<br/></td></tr>
<tr class="memitem:group__RefreshMsgHelpers"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RefreshMsgHelpers.html">RsslRefreshMsg Helper and Utility functions</a></td></tr>
<tr class="memdesc:group__RefreshMsgHelpers"><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Detailed information about the <a class="el" href="structRsslRefreshMsg.html" title="The RsslRefreshMsg is provided as an initial response or when an upstream source requires a data resy...">RsslRefreshMsg</a> Helper and Utility functions. </p>
<br/></td></tr>
</table>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
    <table cellSpacing="0" cellPadding="0" width="100%" border="0">
      <tr>
        <td bgColor="#ffffff"><img height="3" src="../../portal/invis.gif" width="1"></td>
      </tr>
    </table>
    <table cellspacing="0" cellpadding="0" border="0" width="100%">
      <tr>
        <td><img src="../../portal/invis.gif" width="11" height="1"></td>
        <td align="left" valign="top" width="100%"><! -- START OF FOOTER --> 
		<table cellSpacing="0" cellPadding="0" border="0">
          <tr>
            <td><p class="smallfont"><a href="../../portal/copyright.htm">Copyright Notice</a></td>
            <td><p class="smallfont"><font color="#FF6600">&nbsp;|&nbsp;</font> </td>
            <td><p class="smallfont">Last modified on:&nbsp;</td>
            <td><p class="smallfont">Fri Apr 29 2016</td>
          </tr>
        </table>
        <p class="smallfont">&nbsp;</td>
        <td vAlign="top" align="right" width="141"><a href="http://www.reuters.com/">
		<img alt="The Business of Information" src="../../portal/tr_hrz_lrg_rgb_pos.jpg" border="0" WIDTH="140" HEIGHT="50"></a></td>
      </tr>
    </table>
</small></address>
</body>
</html>
